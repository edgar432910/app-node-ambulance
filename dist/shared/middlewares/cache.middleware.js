"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const redis_boostrap_1=__importDefault(require("../../bootstrap/redis.boostrap"));class CacheRedis{static handle(e){return async(s,t,o)=>{let r=e;if(s.params)for(const e in s.params)r+=`_${s.params[e]}`;if(s.query)for(const e in s.query)r+=`_${s.query[e]}`;if(s.body)for(const e in s.body)r+=`_${s.body[e]}`;const a=await redis_boostrap_1.default.get(r);a?(console.log("Ejecucion desde redis"),t.json(JSON.parse(a))):(t.locals.cacheKey=r,o())}}}exports.default=CacheRedis;